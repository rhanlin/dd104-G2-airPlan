<!DOCTYPE html>
<html lang="zh-Hant">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>客製化商城</title>
  <link rel="stylesheet" href="./css/main.css">

</head>

<body class="shop-body">
  @@include("./layout/nav.html")
  @@include("./layout/header.html")
  <main class="shop-main">
    <div id="coinBox">
      <div id="coinArea">
        <div class="coinBox">
          <span class="airCoinTxt">–</span>
          <span id="coinInnerCount"></span>
          <div class="airCoinSingle"><img src="./img/product/decorate/airCoinSingle.png" alt=""></div>
          <div class="airCoin"><img src="./img/product/decorate/airCoin.png" alt=""></div>

        </div>
        <h6 id="coinTextArea"><span id="coin"></span> air幣</h6>
      </div>

    </div>
    <section id="section1">
      <div class="container">
        <div class="row">
          <div id="conectionLine" class="col-12">
            <img src="./img/product/decorate/pinkclip.svg" alt="" class="iron_clip1">
            <img src="./img/product/decorate/pinkclip.svg" alt="" class="iron_clip2">
          </div>
        </div>
      </div>
      <div id="shopOutsideBox">
        <div class="shopItemContainer">
          <div class="itemPage1">
            <div class="itemPage2">
              <div class="itemPage0"></div>
            </div>
          </div>
        </div>

        <div id="app">
          <div class="col-12 col-sm-12  col-md-12 col-lg-12 itemCardBox ">
            <div class="itemCardAside">
              <div class="itemCardAsideBox">
                <div class="threed_text_box">
                  <div class="threed-text-red-endWhite" id="threed-text-red-endWhite">選購商品</div>
                </div>
                <div class="accordion" id="accordionExample">
                  <div class="card">
                    <div class="card-header" id="headingOne">
                      <h2 class="mb-0">
                        <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseOne"
                          aria-expanded="true" aria-controls="collapseOne">
                          <h3>郵戳</h3>
                        </button>
                      </h2>
                    </div>
                    <div id="collapseOne" class="collapse show" aria-labelledby="headingOne"
                      data-parent="#accordionExample">
                      <div class="card-body">
                        <h5 @click="visibility='countries'">地球村</h5>
                        <h5 @click="visibility='frame'">外框</h5>
                        <h5 @click="visibility='simple'">線條</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card">
                    <div class="card-header" id="headingTwo">
                      <h2 class="mb-0">
                        <button class="btn btn-link collapsed" type="button" data-toggle="collapse"
                          data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                          <h3>圖案</h3>
                        </button>
                      </h2>
                    </div>
                    <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
                      <div class="card-body">
                        <h5 @click="visibility='animal'">動物</h5>
                        <h5 @click="visibility='handpattern'">手繪</h5>
                        <h5 @click="visibility='vector'">向量</h5>
                      </div>
                    </div>
                  </div>
                  <div class="card">
                    <div class="card-header" id="headingThree">
                      <h2 class="mb-0">
                        <button class="btn btn-link collapsed" type="button" data-toggle="collapse"
                          data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                          <h3>工具</h3>
                        </button>
                      </h2>
                    </div>
                    <div id="collapseThree" class="collapse" aria-labelledby="headingThree"
                      data-parent="#accordionExample">
                      <div class="card-body">
                        <h5 @click="visibility='tool'">DIY工具</h5>
                        <h5 @click="visibility='letter'">信紙</h5>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class=" itemCardContainer">
              <div class="cardFilter">
                <img src="./img/product/decorate/lineTop.png" alt="" class="line_top" id="line_top">
                <img src="./img/product/decorate/lineButtom.png" alt="" class="line_bottom" id="line_bottom">
                <div @mousemove="mousemove($event)" @mouseout="mouseout($event)" @click="changeIndex($event)"
                  v-for="(item,index) in pagedListdata" v-if="change(index)"
                  :style="{backgroundImage:`url(${item.url})`}" :id=item.id :class=item.class>
                  <img src="./img/product/decorate/clip-04.svg" alt="">
                </div>
              </div>
              <div id="emptyBtn">
                <div class="switchBtnBox" @click="page = 1">
                  <div class="switchBtn">page1</div>
                </div>
                <div class="switchBtnBox" @click="page = 2">
                  <div class="switchBtn">page2</div>
                </div>
                <div class="switchBtnBox" @click="page = 3">
                  <div class="switchBtn">page3</div>
                </div>
              </div>
            </div>
          </div>
          <div class="filter_forSamll">
            <div class="filter_forSamllBox">
              <div class="threed_text_box">
                <div class="threed-text-red-endWhite">選購商品</div>
              </div>
              <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  郵戳
                </button>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                  <div class="dropdown-item" @click="visibility='countries'">地球村</div>
                  <div class="dropdown-item" @click="visibility='frame'">外框</div>
                  <div class="dropdown-item" @click="visibility='simple'">線條</div>
                </div>
              </div>
              <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  圖案
                </button>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                  <div class="dropdown-item" @click="visibility='animal'">動物</div>
                  <div class="dropdown-item" @click="visibility='handpattern'">手繪</div>
                  <div class="dropdown-item" @click="visibility='vector'">向量</div>
                </div>
              </div>
              <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  工具
                </button>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                  <div class="dropdown-item" @click="visibility='tool'">DIY工具</div>
                  <div class="dropdown-item" @click="visibility='letter'">信紙</div>
                </div>
              </div>
            </div>
          </div>
          <div id="outshadow"></div>
          <div id="medal">
            <div @click="closeModel" class="cross"></div>
            <div id="textBox">
              <div class="titleBox">
                <h4 id="titleInner"></h4>
              </div>
              <div class="textBox">
                <h6 id="infoInner"></h6>
              </div>
              <div class="chance_priceBox">
                <h5>信件被撈機率加乘 : <span id="chanceInner"></span>
                </h5>
                <h5>商品價格 :<span id="priceInner">50</span>
                </h5>
              </div>
            </div>
            <div class="product_display">
              <div class="model_material"><img src="./img/product/decorate/model_material.png" alt=""></div>
              <div class="model_arrow"><img src="./img/product/decorate/model_arrow-04.svg" alt=""></div>
              <div class="model_product"><img src="./img/product/decorate/model_product_1.png" alt=""></div>
            </div>
            <div class="orderBtnBoxGroup">
              <div class="orderBtnBox">
                <div class="orderBtn">
                  <div @click="customerOrder($event)" class="orderText">購買</div>
                  <span></span>
                </div>
              </div>
            </div>
          </div>
        </div>
    </section>
    <div id="pile">
      <div class="pilePaper"><span>彩繪飛機用的圖案素材</span>
        <div class="innerBox"></div>
      </div>
      <div class="cover"></div>
      <div class="pile"></div>
      <div class="redTapeRight"><img src="./img/share/red-tape-rough.svg" alt=""></div>
      <div class="redTapeLeft"><img src="./img/share/red-tape-sticky-02.svg" alt=""></div>
      <div class="redTapeLeftUp"><img src="./img/share/red-tape-up-02.svg" alt=""></div>
      <div class="pileTitleBoard">
        <div class="pileTitle">
          <h5> 購買完客製化素材及工具之後~<br>就可以開始客製你的專屬郵戳及圖案囉!<br>
            不同畫板上的完成圖，存檔後會存入我的包包，並可使用在撰寫信件或大頭貼中。</h5>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="row customize">
        <div class="customizeTitle">
          <div class="threed-text-red-endWhite">NEXT <br>客製圖樣</div>
        </div>
        <div class="manual">
          <div class="manualTitle">
            <h3>工具使用提示框</h3>
          </div>
          <div class="manualinnerText">
            <h6>滑鼠移入會提示您工具的使用方法喔</h6>
          </div>
        </div>
      </div>
    </div>
    <section id="section2">
      <div class="customizeArea">
        <div class="controlTool">
          <div class="controlToolTopFlex">
            <div class="controlToolTop">
              <div id="mode" class="controlBox1">
                <div id="controlBox1" class="controlBox1_button clicked">
                  <div class="controlBtn1 clicked 1"><img src="./img/product/toolcontrolbar/cannotWrite.png" alt=""
                      id="modeImg">
                  </div>
                </div>
              </div>
              <div id="clear" class="controlBox2">
                <div id="controlBox2" class="controlBox2_button">
                  <div class="controlBtn2 "><img src="./img/product/toolcontrolbar/control_reset.svg" alt="">
                  </div>
                </div>
              </div>
              <div id="eraser" class="controlBox3">
                <div id="controlBox3" class="controlBox3_button clicked">
                  <div class="controlBtn3 clicked"><img src="./img/product/toolcontrolbar/control_eraser.svg" alt="">
                  </div>
                </div>
              </div>
              <div id="group" class="controlBox4">
                <div id="controlBox4" class="controlBox4_button clicked">
                  <div class="controlBtn4 clicked"><img src="./img/product/toolcontrolbar/merged.svg" alt=""></div>
                </div>
              </div>
              <div id="ungroup" class="controlBox5">
                <div id="controlBox5" class="controlBox5_button clicked">
                  <div class="controlBtn5 clicked"><img src="./img/product/toolcontrolbar/split.svg" alt=""></div>
                </div>
              </div>
              <div id="text" class="controlBox6">
                <div id="controlBox6" class="controlBox6_button clicked">
                  <div class="controlBtn6 clicked"><img src="./img/product/toolcontrolbar/text-symbol.svg" alt=""></div>
                </div>
              </div>
              <div id="filter_Grayscale" class="controlBox7">
                <div id="controlBox7" class="controlBox7_button clicked">
                  <div class="controlBtn7 clicked"><img src="./img/product/toolcontrolbar/filter.svg" alt=""></div>
                </div>
              </div>
              <div class="controlBox8">
                <button id="controlBox8" class="controlBox8_button clicked">
                  <input type="file" id="file">
                  <div class="controlBtn8 clicked"><img src="./img/product/toolcontrolbar/photo.svg" alt=""></div>
                </button>
              </div>
              <div id="outputPngBtn" class="controlBox9">
                <div class="controlBox9_button">
                  <div class="controlBtn9"><img src="./img/product/toolcontrolbar/control_download.svg" alt="">
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="controlBoxBottom">
            <div class="brushType">
              <label class="brushlabel">
                <h6>畫筆種類</h6>
              </label>
              <div class="box">
                <select class="brushSelect">
                  <option value="Pencil">Pencil</option>
                  <option value="Circle">Circle</option>
                  <option value="Spray">Spray</option>
                  <option value="Square">Square</option>
                </select>
              </div>
            </div>
            <div class="lineColor">
              <label class="lineColorlabel">
                <h6> 畫筆顏色</h6>
              </label>
              <input type="color" min="0" max="150" class="lineColorInput">
            </div>
            <div class="shadowColor">
              <label class="shadowColorlabel">
                <h6> 陰影顏色</h6>
              </label>
              <input type="color" min="0" max="150" class="shadowColorInput">
            </div>
            <div class="lineWidth">
              <label class="lineWidthlabel">
                <h6> 畫筆大小</h6>
              </label>
              <input type="range" min="0" max="150" class="lineWidthInput" value="1">
              <span class="lineWidthValue">1</span>
            </div>
            <div class="shadowBlur">
              <label class="shadowBlurlabel">
                <h6> 陰影模糊</h6>
              </label>
              <input type="range" min="0" max="30" class="shadowBlurInput" value="1">
              <span class="shadowBlurValue">1</span>
            </div>
            <div class="shadowOffsetX">
              <label class="shadowOffsetXlabel">
                <h6> 陰影X軸</h6>
              </label>
              <input type="range" min="0" max="50" class="shadowOffsetXInput" value="1">
              <span class="shadowOffsetXValue">1</span>
            </div>
            <div class="shadowOffsetY">
              <label class="shadowOffsetYlabel">
                <h6> 陰影Y軸</h6>
              </label>
              <input type="range" min="0" max="50" class="shadowOffsetYInput" value="1">
              <span class="shadowOffsetYValue">1</span>
            </div>
          </div>

          <div class="controlBoxRight">
            <div class="brushType">
              <label class="brushlabel">
                <h6>畫筆種類</h6>
              </label>
              <div class="box">
                <select class="brushSelect">
                  <option value="Pencil">Pencil</option>
                  <option value="Circle">Circle</option>
                  <option value="Spray">Spray</option>
                  <option value="Square">Square</option>
                </select>
              </div>
            </div>
            <div class="lineColor">
              <label class="lineColorlabel">
                <h6> 畫筆顏色</h6>
              </label>
              <input type="color" min="0" max="150" class="lineColorInput">
            </div>
            <div class="shadowColor">
              <label class="shadowColorlabel">
                <h6> 陰影顏色</h6>
              </label>
              <input type="color" min="0" max="150" class="shadowColorInput">
            </div>
            <div class="lineWidth">
              <label class="lineWidthlabel">
                <h6> 畫筆大小</h6>
              </label>
              <input type="range" min="0" max="150" class="lineWidthInput" value="1">
              <span class="lineWidthValue">1</span>
            </div>
            <div class="shadowBlur">
              <label class="shadowBlurlabel">
                <h6> 陰影模糊</h6>
              </label>
              <input type="range" min="0" max="30" class="shadowBlurInput" value="1">
              <span class="shadowBlurValue">1</span>
            </div>
            <div class="shadowOffsetX">
              <label class="shadowOffsetXlabel">
                <h6> 陰影X軸</h6>
              </label>
              <input type="range" min="0" max="50" class="shadowOffsetXInput" value="1">
              <span class="shadowOffsetXValue">1</span>
            </div>
            <div class="shadowOffsetY">
              <label class="shadowOffsetYlabel">
                <h6> 陰影Y軸</h6>
              </label>
              <input type="range" min="0" max="50" class="shadowOffsetYInput" value="1">
              <span class="shadowOffsetYValue">1</span>
            </div>
          </div>
        </div>
        <div class="drawingBoardBox">
          <div class="canvasWindowBox">
            <div id="canvasBox">
              <canvas id="canvas">
                <div class="drawingPanel" id="drawingOptionArea"></div>
              </canvas>
            </div>
          </div>
          <div id="btns" class="btns">
            <div class="orderBtnBoxGroup">
              <div class="orderBtnBox">
                <div id="boardSwitchBtn" class="orderBtn">
                  <div class="orderText">
                    <h6>切換郵戳畫板</h6>
                  </div>
                </div>
                <div class="orderBtnBottom"></div>
              </div>
            </div>
            <div class="patNameInput">
              <label class="patternName" for="patternName">
                <h5>為您製作的圖案取個名字吧!</h5>
              </label>
              <input type="text" name="patternName" id="patternName">
            </div>
          </div>
        </div>
      </div>
    </section>
    <section id="section3">
      <div id="hand">
        <img class="hand1" src="./img/product/decorate/hand1-01.svg" alt="">
        <img class="hand2" src="./img/product/decorate/hand2-01.svg" alt="">
      </div>
      <div class="owl-carousel owl-theme owl-loaded owl-drag">
        <div class="owl-stage-outer">
          <div class="owl-stage">
            <div class="owl-item figure1"><img src="" alt="" class="figure"></div>
            <div class="owl-item figure2"><img src="" alt="" class="figure"></div>
            <div class="owl-item figure3"><img src="" alt="" class="figure"></div>
            <div class="owl-item figure4"><img src="" alt="" class="figure"></div>
            <div class="owl-item figure5"><img src="" alt="" class="figure"></div>
            <div class="owl-item figure6"><img src="" alt="" class="figure"></div>
            <div class="owl-item figure7"><img src="" alt="" class="figure"></div>
            <div class="owl-item figure8"><img src="" alt="" class="figure"></div>
            <div class="owl-item figure9"><img src="" alt="" class="figure"></div>
            <div class="owl-item figure10"><img src="" alt="" class="figure"></div>
            <div class="owl-item figure11"><img src="" alt="" class="figure"></div>
            <div class="owl-item figure12"><img src="" alt="" class="figure"></div>
            <div class="owl-item figure13"><img src="" alt="" class="figure"></div>
            <div class="owl-item figure14"><img src="" alt="" class="figure"></div>
            <div class="owl-item figure15"><img src="" alt="" class="figure"></div>
            <div class="owl-item figure16"><img src="" alt="" class="figure"></div>
            <div class="owl-item figure17"><img src="" alt="" class="figure"></div>
            <div class="owl-item figure18"><img src="" alt="" class="figure"></div>
            <div class="owl-item figure19"><img src="" alt="" class="figure"></div>
            <div class="owl-item figure20"><img src="" alt="" class="figure"></div>
            <div class="owl-item figure21"><img src="" alt="" class="figure"></div>
            <div class="owl-item figure22"><img src="" alt="" class="figure"></div>
            <div class="owl-item figure23"><img src="" alt="" class="figure"></div>
            <div class="owl-item figure24"><img src="" alt="" class="figure"></div>
          </div>
        </div>
    </section>
  </main>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js'></script>

  <script src="https://unpkg.com/vue@2.1.10/dist/vue.js"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.0/TweenMax.min.js'></script>
  <script src="./js/ScrollToPlugin.min.js"></script>
  <script src="./js/ScrollMagic.min.js"></script>
  <script src="./js/animation.gsap.min.js"></script>
  <script src="./js/debug.addIndicators.min.js"></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.js'></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
    integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous">
  </script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
    integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous">
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/2.4.0/fabric.js"></script>
  <script src="./js/shop_vue.js"></script>
  <script src="./js/fastclick.js"></script>
  <script src="./js/jquery.nice-select.min.js"></script>
  <script src="./js/shop_carousel.js"></script>
  <script src="./js/shop_draw.js"></script>
  <script src="./js/animate_tube.js"></script>
  <script>
    $('#myCollapsible').on('hidden.bs.collapse', function () {
      // bootstrap手風琴用
    })
  </script>
  <script>
    //  ================這是3D按鈕用===================================================================
    $('.switchBtn').mousedown(function () {
      $(this).addClass('clicked');
    });
    $('.switchBtn').mouseup(function () {
      $(this).removeClass('clicked');
    });
    $('.orderBtn').mousedown(function () {
      $(this).addClass('clicked');
    });
    $('.orderBtn').mouseup(function () {
      $(this).removeClass('clicked');
    });

    // =====================這是美化下拉式選單===================================================
    $(document).ready(function () {
      $('select:not(.ignore)').niceSelect();
      FastClick.attach(document.body);
    });
  </script>
  <script>
    // ===================這是現有air幣從資料庫抓數字到本頁右方 =======================
    function showMemberInfo(jsonStr) {

      coin = document.getElementById('coin');
      let MemberInfo = JSON.parse(jsonStr);
      // console.log(MemberInfo[0].airCoin)
      console.log('555555555', MemberInfo)
      if (MemberInfo[0].memName) {
        coin.innerHTML = MemberInfo[0].airCoin;

      }
    }

    function getMemberInfo() {


      var xhr3 = new XMLHttpRequest();
      xhr3.onload = function () {
        if (xhr3.status == 200) {
          //modify here
          showMemberInfo(xhr3.responseText);
          // console.log(xhr.responseText)
        } else {
          // alert(xhr.status);
        }
      }
      cavMemberH = document.getElementById('cavMemberH').innerHTML;
      cavMemberH = cavMemberH.toString().substring(6);
      // console.log("========2", cavMemberH)

      var url = "./phps/shop_axios_post.php?get=shop_getMemberCoin&memNo=" + cavMemberH;
      xhr3.open("Get", url, true);
      xhr3.send(null);
    }
  </script>
  <script>
    //============================這是扣款小動畫===================================
    function boughtProd() {

      TweenMax.fromTo('.airCoinSingle', 5, {
        y: 0,
        opacity: 1,

      }, {
        y: -100,
        opacity: 0,
      })

      TweenMax.fromTo('.airCoinTxt', 5, {
        y: 0,
        opacity: 1,

      }, {
        y: -100,
        opacity: 0,
      })
      TweenMax.fromTo('#coinInnerCount', 5, {
        y: 0,
        opacity: 1,

      }, {
        y: -100,
        opacity: 0,
      });

    }
  </script>
  <script>
    function itemCheck() {
      itemCard62 = document.getElementById('itemCard62')
      console.log(itemCard62)
    }

    window.addEventListener('load', itemCheck);
    window.addEventListener('load', function () {
      setTimeout(getMemberInfo, 500);
    }, false);
  </script>
</body>

</html>